Here's the updated step to upload the HTML report to a GitHub Release:

```yaml
      - name: Upload conflict report to GitHub Release
        id: upload_artifact
        if: steps.generate_report.outputs.report_generated == 'true'
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          HTTPS_PROXY: 'http://192.168.5.60:8080'
          HTTP_PROXY: 'http://192.168.5.60:8080'
        run: |
          REPORT_FILE="${{ steps.generate_report.outputs.report_path }}"
          REPORT_NAME="${{ steps.generate_report.outputs.report_name }}"
          DRY_RUN_ID="${{ steps.parse_report.outputs.dry_run_id }}"
          ENVIRONMENT="${{ steps.env.outputs.environment }}"
          
          if [ ! -f "$REPORT_FILE" ]; then
            echo "Report file not found: $REPORT_FILE"
            echo "uploaded=false" >> $GITHUB_OUTPUT
            exit 0
          fi
          
          echo "Report file: $REPORT_FILE"
          echo "Report name: $REPORT_NAME"
          echo "File size: $(stat -c%s "$REPORT_FILE") bytes"
          
          # Create release tag based on environment and timestamp
          TIMESTAMP=$(date +%Y%m%d-%H%M%S)
          TAG="wso2-conflict-report-${ENVIRONMENT}-${TIMESTAMP}"
          RELEASE_TITLE="WSO2 Conflict Report - ${ENVIRONMENT} - ${TIMESTAMP}"
          
          # Create release notes
          RELEASE_NOTES="## WSO2 Update Conflict Report
          
          **Environment:** ${ENVIRONMENT}
          **Dry Run ID:** ${DRY_RUN_ID}
          **Generated:** $(date '+%Y-%m-%d %H:%M:%S')
          **Workflow Run:** [View Run](https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }})
          
          ### Conflicts Detected
          - **Current Level:** v${{ steps.parse_report.outputs.current_level }}
          - **Target Level:** v${{ steps.parse_report.outputs.latest_level }}
          - **Conflict Count:** ${{ steps.parse_report.outputs.conflict_count }} file(s)
          
          ### Download
          Download the HTML report below to view the detailed diff comparison of conflicting files."
          
          echo "Creating release with tag: $TAG"
          
          # Check if gh CLI is available
          if ! command -v gh &> /dev/null; then
            echo "GitHub CLI (gh) not found. Installing..."
            curl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | sudo dd of=/usr/share/keyrings/githubcli-archive-keyring.gpg
            echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main" | sudo tee /etc/apt/sources.list.d/github-cli.list > /dev/null
            sudo apt update
            sudo apt install gh -y
          fi
          
          # Create release and upload file
          echo "Creating GitHub release: $TAG"
          if gh release create "$TAG" \
            --title "$RELEASE_TITLE" \
            --notes "$RELEASE_NOTES" \
            "$REPORT_FILE#${REPORT_NAME}"; then
            
            RELEASE_URL="https://github.com/${{ github.repository }}/releases/tag/${TAG}"
            DOWNLOAD_URL="https://github.com/${{ github.repository }}/releases/download/${TAG}/${REPORT_NAME}"
            
            echo "Release created successfully!"
            echo "Release URL: $RELEASE_URL"
            echo "Download URL: $DOWNLOAD_URL"
            
            echo "uploaded=true" >> $GITHUB_OUTPUT
            echo "release_tag=$TAG" >> $GITHUB_OUTPUT
            echo "release_url=$RELEASE_URL" >> $GITHUB_OUTPUT
            echo "download_url=$DOWNLOAD_URL" >> $GITHUB_OUTPUT
            echo "report_name=$REPORT_NAME" >> $GITHUB_OUTPUT
          else
            echo "Failed to create release"
            echo "uploaded=false" >> $GITHUB_OUTPUT
          fi
```

Then update your job outputs to include the new release URLs:

```yaml
    outputs:
      # ... existing outputs ...
      release_url: ${{ steps.upload_artifact.outputs.release_url }}
      download_url: ${{ steps.upload_artifact.outputs.download_url }}
```

And update the Teams notification to use the download URL for the button:

```yaml
      - name: Send Teams notification
        run: |
          # ... existing code ...
          
          REPORT_URL="${{ needs.check-updates.outputs.report_url }}"
          DOWNLOAD_URL="${{ needs.check-updates.outputs.download_url }}"
          RELEASE_URL="${{ needs.check-updates.outputs.release_url }}"
          
          # ... existing code ...
          
          # Build potential actions with report link if available
          if [ "$HAS_CONFLICTS" = "true" ] && [ -n "$DOWNLOAD_URL" ]; then
            ACTIONS=$(jq -n \
              --arg workflow_url "$WORKFLOW_URL" \
              --arg download_url "$DOWNLOAD_URL" \
              --arg release_url "$RELEASE_URL" \
              '[
                {
                  "@type": "OpenUri",
                  "name": "View Workflow Run",
                  "targets": [{ "os": "default", "uri": $workflow_url }]
                },
                {
                  "@type": "OpenUri",
                  "name": "ðŸ“„ Download Conflict Report",
                  "targets": [{ "os": "default", "uri": $download_url }]
                },
                {
                  "@type": "OpenUri",
                  "name": "ðŸ“¦ View Release",
                  "targets": [{ "os": "default", "uri": $release_url }]
                }
              ]')
          elif [ "$HAS_CONFLICTS" = "true" ] && [ -n "$REPORT_URL" ]; then
            # Fallback to nginx-hosted report if release upload failed
            ACTIONS=$(jq -n \
              --arg workflow_url "$WORKFLOW_URL" \
              --arg report_url "$REPORT_URL" \
              '[
                {
                  "@type": "OpenUri",
                  "name": "View Workflow Run",
                  "targets": [{ "os": "default", "uri": $workflow_url }]
                },
                {
                  "@type": "OpenUri",
                  "name": "ðŸ“„ View Conflict Report",
                  "targets": [{ "os": "default", "uri": $report_url }]
                }
              ]')
          else
            ACTIONS=$(jq -n \
              --arg workflow_url "$WORKFLOW_URL" \
              '[
                {
                  "@type": "OpenUri",
                  "name": "View Workflow Run",
                  "targets": [{ "os": "default", "uri": $workflow_url }]
                }
              ]')
          fi
          
          # ... rest of notification code ...
```

If your self-hosted runner doesn't have `gh` CLI installed and you can't install it, here's an alternative using `curl` directly:

```yaml
      - name: Upload conflict report to GitHub Release
        id: upload_artifact
        if: steps.generate_report.outputs.report_generated == 'true'
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          HTTPS_PROXY: 'http://192.168.5.60:8080'
          HTTP_PROXY: 'http://192.168.5.60:8080'
        run: |
          REPORT_FILE="${{ steps.generate_report.outputs.report_path }}"
          REPORT_NAME="${{ steps.generate_report.outputs.report_name }}"
          DRY_RUN_ID="${{ steps.parse_report.outputs.dry_run_id }}"
          ENVIRONMENT="${{ steps.env.outputs.environment }}"
          
          if [ ! -f "$REPORT_FILE" ]; then
            echo "Report file not found: $REPORT_FILE"
            echo "uploaded=false" >> $GITHUB_OUTPUT
            exit 0
          fi
          
          echo "Report file: $REPORT_FILE"
          echo "Report name: $REPORT_NAME"
          echo "File size: $(stat -c%s "$REPORT_FILE") bytes"
          
          # Create release tag
          TIMESTAMP=$(date +%Y%m%d-%H%M%S)
          TAG="wso2-conflict-report-${ENVIRONMENT}-${TIMESTAMP}"
          RELEASE_TITLE="WSO2 Conflict Report - ${ENVIRONMENT} - ${TIMESTAMP}"
          
          RELEASE_NOTES="WSO2 Update Conflict Report\n\nEnvironment: ${ENVIRONMENT}\nDry Run ID: ${DRY_RUN_ID}\nCurrent Level: v${{ steps.parse_report.outputs.current_level }}\nTarget Level: v${{ steps.parse_report.outputs.latest_level }}\nConflict Count: ${{ steps.parse_report.outputs.conflict_count }} file(s)"
          
          REPO="${{ github.repository }}"
          API_URL="https://api.github.com/repos/${REPO}/releases"
          
          echo "Creating release: $TAG"
          
          # Create release
          CREATE_RESPONSE=$(curl -s -X POST \
            --proxy "${HTTPS_PROXY}" \
            -H "Authorization: token $GITHUB_TOKEN" \
            -H "Accept: application/vnd.github+json" \
            "$API_URL" \
            -d "{\"tag_name\":\"$TAG\",\"name\":\"$RELEASE_TITLE\",\"body\":\"$RELEASE_NOTES\",\"draft\":false,\"prerelease\":false}")
          
          echo "Create response: $CREATE_RESPONSE"
          
          RELEASE_ID=$(echo "$CREATE_RESPONSE" | jq -r '.id')
          UPLOAD_URL=$(echo "$CREATE_RESPONSE" | jq -r '.upload_url' | sed 's/{?name,label}//')
          
          if [ -z "$RELEASE_ID" ] || [ "$RELEASE_ID" = "null" ]; then
            echo "Failed to create release"
            echo "uploaded=false" >> $GITHUB_OUTPUT
            exit 0
          fi
          
          echo "Release ID: $RELEASE_ID"
          echo "Upload URL: $UPLOAD_URL"
          
          # Upload asset
          echo "Uploading report..."
          UPLOAD_RESPONSE=$(curl -s -X POST \
            --proxy "${HTTPS_PROXY}" \
            -H "Authorization: token $GITHUB_TOKEN" \
            -H "Content-Type: text/html" \
            --data-binary @"$REPORT_FILE" \
            "${UPLOAD_URL}?name=${REPORT_NAME}")
          
          echo "Upload response: $UPLOAD_RESPONSE"
          
          ASSET_URL=$(echo "$UPLOAD_RESPONSE" | jq -r '.browser_download_url')
          
          if [ -z "$ASSET_URL" ] || [ "$ASSET_URL" = "null" ]; then
            echo "Failed to upload asset"
            echo "uploaded=false" >> $GITHUB_OUTPUT
            exit 0
          fi
          
          RELEASE_URL="https://github.com/${REPO}/releases/tag/${TAG}"
          
          echo "Upload successful!"
          echo "Release URL: $RELEASE_URL"
          echo "Download URL: $ASSET_URL"
          
          echo "uploaded=true" >> $GITHUB_OUTPUT
          echo "release_tag=$TAG" >> $GITHUB_OUTPUT
          echo "release_url=$RELEASE_URL" >> $GITHUB_OUTPUT
          echo "download_url=$ASSET_URL" >> $GITHUB_OUTPUT
          echo "report_name=$REPORT_NAME" >> $GITHUB_OUTPUT
```

This curl-based approach doesn't require `gh` CLI and works directly with the GitHub API through your proxy.
